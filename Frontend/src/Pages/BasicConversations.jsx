import React, { useState } from "react";
import { useNavigate } from 'react-router-dom';

export default function BasicConversations() {
  const navigate = useNavigate();
  const [darkMode, setDarkMode] = useState(false);
  const [selectedConversation, setSelectedConversation] = useState(null);
  const [completedConversations, setCompletedConversations] = useState([]);

  const conversations = [
    {
      id: 1,
      title: "Meeting Someone New",
      emoji: "ЁЯСЛ",
      color: "from-blue-400 to-cyan-500",
      difficulty: "easy",
      scenario: "At a social gathering",
      dialogue: [
        { speaker: "A", text: "Hi! I'm Sarah. Nice to meet you!", hindi: "[translate:рдирдорд╕реНрддреЗ! рдореИрдВ рд╕рд╛рд░рд╛ рд╣реВрдВред рдЖрдкрд╕реЗ рдорд┐рд▓рдХрд░ рдЦреБрд╢реА рд╣реБрдИ!]" },
        { speaker: "B", text: "Hello Sarah! I'm Raj. Nice to meet you too!", hindi: "[translate:рдирдорд╕реНрддреЗ рд╕рд╛рд░рд╛! рдореИрдВ рд░рд╛рдЬ рд╣реВрдВред рдореБрдЭреЗ рднреА рдЖрдкрд╕реЗ рдорд┐рд▓рдХрд░ рдЦреБрд╢реА рд╣реБрдИ!]" },
        { speaker: "A", text: "So, where are you from?", hindi: "[translate:рддреЛ, рдЖрдк рдХрд╣рд╛рдВ рд╕реЗ рд╣реИрдВ?]" },
        { speaker: "B", text: "I'm from Mumbai. How about you?", hindi: "[translate:рдореИрдВ рдореБрдВрдмрдИ рд╕реЗ рд╣реВрдВред рдФрд░ рдЖрдк?]" },
        { speaker: "A", text: "I'm from Delhi. What do you do?", hindi: "[translate:рдореИрдВ рджрд┐рд▓реНрд▓реА рд╕реЗ рд╣реВрдВред рдЖрдк рдХреНрдпрд╛ рдХрд░рддреЗ рд╣реИрдВ?]" },
        { speaker: "B", text: "I'm a software engineer. And you?", hindi: "[translate:рдореИрдВ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЗрдВрдЬреАрдирд┐рдпрд░ рд╣реВрдВред рдФрд░ рдЖрдк?]" },
      ],
      keyPhrases: ["Nice to meet you", "Where are you from?", "What do you do?"]
    },
    {
      id: 2,
      title: "At a Restaurant",
      emoji: "ЁЯН╜я╕П",
      color: "from-orange-400 to-red-500",
      difficulty: "easy",
      scenario: "Ordering food",
      dialogue: [
        { speaker: "Waiter", text: "Good evening! Are you ready to order?", hindi: "[translate:рд╢реБрдн рд╕рдВрдзреНрдпрд╛! рдХреНрдпрд╛ рдЖрдк рдСрд░реНрдбрд░ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИрдВ?]" },
        { speaker: "Customer", text: "Yes, I'd like a pizza, please.", hindi: "[translate:рд╣рд╛рдВ, рдореБрдЭреЗ рдПрдХ рдкрд┐рдЬрд╝реНрдЬрд╝рд╛ рдЪрд╛рд╣рд┐рдП, рдХреГрдкрдпрд╛ред]" },
        { speaker: "Waiter", text: "Which size would you prefer?", hindi: "[translate:рдЖрдк рдХреМрди рд╕рд╛ рд╕рд╛рдЗрдЬрд╝ рдкрд╕рдВрдж рдХрд░реЗрдВрдЧреЗ?]" },
        { speaker: "Customer", text: "Medium size, please.", hindi: "[translate:рдореАрдбрд┐рдпрдо рд╕рд╛рдЗрдЬрд╝, рдХреГрдкрдпрд╛ред]" },
        { speaker: "Waiter", text: "Anything to drink?", hindi: "[translate:рдХреБрдЫ рдкреАрдиреЗ рдХреЗ рд▓рд┐рдП?]" },
        { speaker: "Customer", text: "Yes, a cold coffee, please.", hindi: "[translate:рд╣рд╛рдВ, рдПрдХ рдХреЛрд▓реНрдб рдХреЙрдлреА, рдХреГрдкрдпрд╛ред]" },
      ],
      keyPhrases: ["I'd like...", "Which size?", "Anything to drink?"]
    },
    {
      id: 3,
      title: "Asking for Directions",
      emoji: "ЁЯЧ║я╕П",
      color: "from-green-400 to-teal-500",
      difficulty: "easy",
      scenario: "On the street",
      dialogue: [
        { speaker: "Tourist", text: "Excuse me, where is the nearest metro station?", hindi: "[translate:рдорд╛рдлрд╝ рдХреАрдЬрд┐рдП, рд╕рдмрд╕реЗ рдирдЬрд╝рджреАрдХреА рдореЗрдЯреНрд░реЛ рд╕реНрдЯреЗрд╢рди рдХрд╣рд╛рдВ рд╣реИ?]" },
        { speaker: "Local", text: "Go straight and take the first left.", hindi: "[translate:рд╕реАрдзреЗ рдЬрд╛рдЗрдП рдФрд░ рдкрд╣рд▓рд╛ рдмрд╛рдпрд╛рдВ рдореЛрдбрд╝ рд▓реАрдЬрд┐рдПред]" },
        { speaker: "Tourist", text: "How far is it from here?", hindi: "[translate:рдпрд╣рд╛рдВ рд╕реЗ рдХрд┐рддрдиреА рджреВрд░ рд╣реИ?]" },
        { speaker: "Local", text: "It's about 5 minutes walk.", hindi: "[translate:рдпрд╣ рд▓рдЧрднрдЧ 5 рдорд┐рдирдЯ рдХреА рдкреИрджрд▓ рджреВрд░реА рд╣реИред]" },
        { speaker: "Tourist", text: "Thank you so much!", hindi: "[translate:рдмрд╣реБрдд-рдмрд╣реБрдд рдзрдиреНрдпрд╡рд╛рдж!]" },
        { speaker: "Local", text: "You're welcome! Have a nice day!", hindi: "[translate:рд╕реНрд╡рд╛рдЧрдд рд╣реИ! рдЖрдкрдХрд╛ рджрд┐рди рд╢реБрдн рд╣реЛ!]" },
      ],
      keyPhrases: ["Excuse me", "Go straight", "How far is it?"]
    },
    {
      id: 4,
      title: "At the Doctor's Office",
      emoji: "ЁЯПе",
      color: "from-purple-400 to-pink-500",
      difficulty: "medium",
      scenario: "Medical consultation",
      dialogue: [
        { speaker: "Doctor", text: "Hello! What brings you here today?", hindi: "[translate:рдирдорд╕реНрддреЗ! рдЖрдЬ рдЖрдк рдпрд╣рд╛рдВ рдХреНрдпреЛрдВ рдЖрдП рд╣реИрдВ?]" },
        { speaker: "Patient", text: "I have a bad headache and fever.", hindi: "[translate:рдореБрдЭреЗ рдмрд╣реБрдд рддреЗрдЬрд╝ рд╕рд┐рд░рджрд░реНрдж рдФрд░ рдмреБрдЦрд╛рд░ рд╣реИред]" },
        { speaker: "Doctor", text: "How long have you had these symptoms?", hindi: "[translate:рдЖрдкрдХреЛ рдпреЗ рд▓рдХреНрд╖рдг рдХрдм рд╕реЗ рд╣реИрдВ?]" },
        { speaker: "Patient", text: "For about two days now.", hindi: "[translate:рд▓рдЧрднрдЧ рджреЛ рджрд┐рдиреЛрдВ рд╕реЗред]" },
        { speaker: "Doctor", text: "Let me check your temperature.", hindi: "[translate:рдореИрдВ рдЖрдкрдХрд╛ рддрд╛рдкрдорд╛рди рдЪреЗрдХ рдХрд░рддрд╛ рд╣реВрдВред]" },
        { speaker: "Patient", text: "Sure, thank you doctor.", hindi: "[translate:рдЬрд╝рд░реВрд░, рдзрдиреНрдпрд╡рд╛рдж рдбреЙрдХреНрдЯрд░ред]" },
      ],
      keyPhrases: ["What brings you here?", "I have a...", "How long...?"]
    },
    {
      id: 5,
      title: "Shopping for Clothes",
      emoji: "ЁЯСХ",
      color: "from-pink-400 to-rose-500",
      difficulty: "easy",
      scenario: "At a clothing store",
      dialogue: [
        { speaker: "Customer", text: "Excuse me, do you have this shirt in large?", hindi: "[translate:рдорд╛рдлрд╝ рдХреАрдЬрд┐рдП, рдХреНрдпрд╛ рдпрд╣ рд╢рд░реНрдЯ рд▓рд╛рд░реНрдЬ рд╕рд╛рдЗрдЬрд╝ рдореЗрдВ рд╣реИ?]" },
        { speaker: "Staff", text: "Let me check. Yes, we do!", hindi: "[translate:рдореИрдВ рдЪреЗрдХ рдХрд░рддрд╛ рд╣реВрдВред рд╣рд╛рдВ, рд╣реИ!]" },
        { speaker: "Customer", text: "Can I try it on?", hindi: "[translate:рдХреНрдпрд╛ рдореИрдВ рдЗрд╕реЗ рдЯреНрд░рд╛рдИ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ?]" },
        { speaker: "Staff", text: "Of course! The fitting room is over there.", hindi: "[translate:рдмрд┐рд▓реНрдХреБрд▓! рдлрд┐рдЯрд┐рдВрдЧ рд░реВрдо рд╡рд╣рд╛рдВ рд╣реИред]" },
        { speaker: "Customer", text: "Great! How much is this?", hindi: "[translate:рдмрдврд╝рд┐рдпрд╛! рдпрд╣ рдХрд┐рддрдиреЗ рдХрд╛ рд╣реИ?]" },
        { speaker: "Staff", text: "It's 1500 rupees.", hindi: "[translate:рдпрд╣ 1500 рд░реБрдкрдпреЗ рдХрд╛ рд╣реИред]" },
      ],
      keyPhrases: ["Do you have...?", "Can I try it on?", "How much is this?"]
    },
    {
      id: 6,
      title: "Making a Phone Call",
      emoji: "ЁЯУЮ",
      color: "from-indigo-400 to-blue-500",
      difficulty: "medium",
      scenario: "Business call",
      dialogue: [
        { speaker: "Caller", text: "Hello, may I speak to Mr. Sharma?", hindi: "[translate:рдирдорд╕реНрддреЗ, рдХреНрдпрд╛ рдореИрдВ рдорд┐рд╕реНрдЯрд░ рд╢рд░реНрдорд╛ рд╕реЗ рдмрд╛рдд рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ?]" },
        { speaker: "Receptionist", text: "May I know who's calling?", hindi: "[translate:рдореИрдВ рдЬрд╛рди рд╕рдХрддреА рд╣реВрдВ рдХрд┐ рдХреМрди рдмрд╛рдд рдХрд░ рд░рд╣рд╛ рд╣реИ?]" },
        { speaker: "Caller", text: "This is Rohit from Tech Solutions.", hindi: "[translate:рдореИрдВ рдЯреЗрдХ рд╕реЙрд▓реНрдпреВрд╢рдВрд╕ рд╕реЗ рд░реЛрд╣рд┐рдд рд╣реВрдВред]" },
        { speaker: "Receptionist", text: "Please hold, I'll connect you.", hindi: "[translate:рдХреГрдкрдпрд╛ рд░реБрдХреЗрдВ, рдореИрдВ рдЖрдкрдХреЛ рдХрдиреЗрдХреНрдЯ рдХрд░рддреА рд╣реВрдВред]" },
        { speaker: "Caller", text: "Thank you!", hindi: "[translate:рдзрдиреНрдпрд╡рд╛рдж!]" },
        { speaker: "Mr. Sharma", text: "Hello Rohit! How can I help you?", hindi: "[translate:рдирдорд╕реНрддреЗ рд░реЛрд╣рд┐рдд! рдореИрдВ рдЖрдкрдХреА рдХреНрдпрд╛ рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ?]" },
      ],
      keyPhrases: ["May I speak to...?", "Who's calling?", "Please hold"]
    },
    {
      id: 7,
      title: "At the Airport",
      emoji: "тЬИя╕П",
      color: "from-cyan-400 to-blue-500",
      difficulty: "medium",
      scenario: "Check-in counter",
      dialogue: [
        { speaker: "Staff", text: "Good morning! May I see your ticket?", hindi: "[translate:рд╕реБрдкреНрд░рднрд╛рдд! рдХреНрдпрд╛ рдореИрдВ рдЖрдкрдХрд╛ рдЯрд┐рдХрдЯ рджреЗрдЦ рд╕рдХрддрд╛ рд╣реВрдВ?]" },
        { speaker: "Passenger", text: "Yes, here it is.", hindi: "[translate:рд╣рд╛рдВ, рдпрд╣ рд░рд╣рд╛ред]" },
        { speaker: "Staff", text: "Do you have any luggage to check in?", hindi: "[translate:рдХреНрдпрд╛ рдЖрдкрдХреЗ рдкрд╛рд╕ рдЪреЗрдХ-рдЗрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рд╕рд╛рдорд╛рди рд╣реИ?]" },
        { speaker: "Passenger", text: "Yes, one suitcase.", hindi: "[translate:рд╣рд╛рдВ, рдПрдХ рд╕реВрдЯрдХреЗрд╕ рд╣реИред]" },
        { speaker: "Staff", text: "Please place it on the scale.", hindi: "[translate:рдХреГрдкрдпрд╛ рдЗрд╕реЗ рддрд░рд╛рдЬреВ рдкрд░ рд░рдЦреЗрдВред]" },
        { speaker: "Passenger", text: "Sure. Which gate is my flight?", hindi: "[translate:рдЬрд╝рд░реВрд░ред рдореЗрд░реА рдлреНрд▓рд╛рдЗрдЯ рдХреМрди рд╕реЗ рдЧреЗрдЯ рд╕реЗ рд╣реИ?]" },
      ],
      keyPhrases: ["May I see...?", "Any luggage?", "Which gate?"]
    },
    {
      id: 8,
      title: "Introducing Family",
      emoji: "ЁЯСитАНЁЯСйтАНЁЯСз",
      color: "from-yellow-400 to-orange-500",
      difficulty: "easy",
      scenario: "Family gathering",
      dialogue: [
        { speaker: "A", text: "This is my wife, Priya.", hindi: "[translate:рдпреЗ рдореЗрд░реА рдкрддреНрдиреА, рдкреНрд░рд┐рдпрд╛ рд╣реИрдВред]" },
        { speaker: "B", text: "Nice to meet you, Priya!", hindi: "[translate:рдЖрдкрд╕реЗ рдорд┐рд▓рдХрд░ рдЦреБрд╢реА рд╣реБрдИ, рдкреНрд░рд┐рдпрд╛!]" },
        { speaker: "Priya", text: "Likewise! And these are our kids.", hindi: "[translate:рдореБрдЭреЗ рднреА! рдФрд░ рдпреЗ рд╣рдорд╛рд░реЗ рдмрдЪреНрдЪреЗ рд╣реИрдВред]" },
        { speaker: "A", text: "This is Aarav, he's 8 years old.", hindi: "[translate:рдпреЗ рдЖрд░рд╡ рд╣реИрдВ, рдпреЗ 8 рд╕рд╛рд▓ рдХреЗ рд╣реИрдВред]" },
        { speaker: "B", text: "Hi Aarav! What class are you in?", hindi: "[translate:рдирдорд╕реНрддреЗ рдЖрд░рд╡! рддреБрдо рдХрд┐рд╕ рдХрдХреНрд╖рд╛ рдореЗрдВ рд╣реЛ?]" },
        { speaker: "Aarav", text: "I'm in third grade!", hindi: "[translate:рдореИрдВ рддреАрд╕рд░реА рдХрдХреНрд╖рд╛ рдореЗрдВ рд╣реВрдВ!]" },
      ],
      keyPhrases: ["This is my...", "Nice to meet you", "How old are you?"]
    },
    {
      id: 9,
      title: "Booking a Hotel Room",
      emoji: "ЁЯПи",
      color: "from-teal-400 to-green-500",
      difficulty: "medium",
      scenario: "Hotel reception",
      dialogue: [
        { speaker: "Guest", text: "Hello, I'd like to book a room for two nights.", hindi: "[translate:рдирдорд╕реНрддреЗ, рдореИрдВ рджреЛ рд░рд╛рддреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрдорд░рд╛ рдмреБрдХ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВред]" },
        { speaker: "Staff", text: "Sure! Single or double room?", hindi: "[translate:рдЬрд╝рд░реВрд░! рд╕рд┐рдВрдЧрд▓ рдпрд╛ рдбрдмрд▓ рд░реВрдо?]" },
        { speaker: "Guest", text: "Double room, please.", hindi: "[translate:рдбрдмрд▓ рд░реВрдо, рдХреГрдкрдпрд╛ред]" },
        { speaker: "Staff", text: "May I have your ID proof?", hindi: "[translate:рдХреНрдпрд╛ рдореБрдЭреЗ рдЖрдкрдХрд╛ рдЖрдИрдбреА рдкреНрд░реВрдл рдорд┐рд▓ рд╕рдХрддрд╛ рд╣реИ?]" },
        { speaker: "Guest", text: "Yes, here's my passport.", hindi: "[translate:рд╣рд╛рдВ, рдпрд╣ рдореЗрд░рд╛ рдкрд╛рд╕рдкреЛрд░реНрдЯ рд╣реИред]" },
        { speaker: "Staff", text: "Great! Your room number is 305.", hindi: "[translate:рдмрдврд╝рд┐рдпрд╛! рдЖрдкрдХрд╛ рд░реВрдо рдирдВрдмрд░ 305 рд╣реИред]" },
      ],
      keyPhrases: ["I'd like to book...", "Single or double?", "May I have...?"]
    },
    {
      id: 10,
      title: "Complaining Politely",
      emoji: "ЁЯШХ",
      color: "from-red-400 to-orange-500",
      difficulty: "medium",
      scenario: "Customer service",
      dialogue: [
        { speaker: "Customer", text: "Excuse me, I ordered this an hour ago.", hindi: "[translate:рдорд╛рдлрд╝ рдХреАрдЬрд┐рдП, рдореИрдВрдиреЗ рдЗрд╕реЗ рдПрдХ рдШрдВрдЯреЗ рдкрд╣рд▓реЗ рдСрд░реНрдбрд░ рдХрд┐рдпрд╛ рдерд╛ред]" },
        { speaker: "Staff", text: "I'm very sorry for the delay.", hindi: "[translate:рджреЗрд░реА рдХреЗ рд▓рд┐рдП рдореБрдЭреЗ рдмрд╣реБрдд рдЦреЗрдж рд╣реИред]" },
        { speaker: "Customer", text: "Also, this is not what I ordered.", hindi: "[translate:рд╕рд╛рде рд╣реА, рдпрд╣ рд╡рд╣ рдирд╣реАрдВ рд╣реИ рдЬреЛ рдореИрдВрдиреЗ рдСрд░реНрдбрд░ рдХрд┐рдпрд╛ рдерд╛ред]" },
        { speaker: "Staff", text: "I apologize! Let me fix this right away.", hindi: "[translate:рдореБрдЭреЗ рдЦреЗрдж рд╣реИ! рдореИрдВ рдЗрд╕реЗ рддреБрд░рдВрдд рдареАрдХ рдХрд░рддрд╛ рд╣реВрдВред]" },
        { speaker: "Customer", text: "Thank you, I appreciate it.", hindi: "[translate:рдзрдиреНрдпрд╡рд╛рдж, рдореИрдВ рдЗрд╕рдХреА рд╕рд░рд╛рд╣рдирд╛ рдХрд░рддрд╛ рд╣реВрдВред]" },
        { speaker: "Staff", text: "We'll get your correct order immediately.", hindi: "[translate:рд╣рдо рддреБрд░рдВрдд рдЖрдкрдХрд╛ рд╕рд╣реА рдСрд░реНрдбрд░ рд▓реЗ рдЖрдПрдВрдЧреЗред]" },
      ],
      keyPhrases: ["Excuse me", "I'm sorry for...", "I appreciate it"]
    },
  ];

  const filteredConversations = conversations;

  const getDifficultyColor = (difficulty) => {
    if (difficulty === 'easy') return darkMode ? 'text-green-400' : 'text-green-600';
    return darkMode ? 'text-yellow-400' : 'text-yellow-600';
  };

  const toggleComplete = (id) => {
    if (completedConversations.includes(id)) {
      setCompletedConversations(completedConversations.filter(c => c !== id));
    } else {
      setCompletedConversations([...completedConversations, id]);
    }
  };

  return (
    <div className={`min-h-screen ${darkMode ? 'bg-gradient-to-br from-[#0a0e27] to-[#1a1d3a]' : 'bg-gradient-to-br from-[#e8f5e9] via-[#e1f5fe] to-[#f3e5f5]'} transition-colors duration-500`}>
      {/* Header */}
      <header className={`sticky top-0 z-50 ${darkMode ? 'bg-[#0f1729]/90' : 'bg-white/80'} backdrop-blur-lg border-b ${darkMode ? 'border-[#2a3441]' : 'border-gray-200'} transition-colors duration-500`}>
        <div className="max-w-7xl mx-auto px-4 sm:px-6 md:px-12 py-4 flex justify-between items-center">
          <button 
            onClick={() => navigate('/easy-level')}
            className={`flex items-center gap-2 ${darkMode ? 'text-[#60a5fa] hover:text-[#3b82f6]' : 'text-[#1976d2] hover:text-[#1565c0]'} font-semibold transition-all hover:scale-105`}
          >
            <span className="text-xl">тЖР</span>
            <span>Back to Topics</span>
          </button>
          
          <div className="flex items-center gap-3">
            <div className={`hidden sm:flex items-center gap-2 ${darkMode ? 'bg-[#1e293b]' : 'bg-purple-100'} px-4 py-2 rounded-full`}>
              <span className="text-xl">ЁЯЧгя╕П</span>
              <span className={`font-semibold ${darkMode ? 'text-[#60a5fa]' : 'text-purple-600'}`}>
                {completedConversations.length}/{conversations.length}
              </span>
            </div>
            <button 
              onClick={() => setDarkMode(!darkMode)}
              className={`${darkMode ? 'bg-[#60a5fa] hover:bg-[#3b82f6]' : 'bg-[#1976d2] hover:bg-[#1565c0]'} text-white p-2.5 rounded-full transition-all duration-300 hover:scale-110 shadow-lg`}
            >
              {darkMode ? 'тШАя╕П' : 'ЁЯМЩ'}
            </button>
          </div>
        </div>
      </header>

      {/* Hero Section */}
      <section className="max-w-7xl mx-auto px-4 sm:px-6 md:px-12 py-8 sm:py-12">
        <div className="text-center mb-8">
          <div className="text-6xl mb-4">ЁЯЧгя╕П</div>
          <h1 className={`text-3xl sm:text-4xl md:text-5xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'} mb-3`}>
            Basic Conversations
          </h1>
          <p className={`text-base sm:text-lg ${darkMode ? 'text-[#94a3b8]' : 'text-gray-600'} max-w-2xl mx-auto`}>
            Practice real-life dialogues with Hindi translations for everyday situations
          </p>
        </div>

        {/* Conversations Grid */}
        <div className="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
          {filteredConversations.map((conv) => (
            <div
              key={conv.id}
              onClick={() => setSelectedConversation(conv)}
              className={`group cursor-pointer rounded-2xl overflow-hidden ${
                darkMode ? 'bg-[#1e293b]/50 border-2 border-[#374151]' : 'bg-white border-2 border-gray-200'
              } transition-all duration-300 hover:scale-105 hover:shadow-xl ${
                darkMode ? 'hover:border-[#60a5fa]' : 'hover:border-purple-400'
              } ${completedConversations.includes(conv.id) ? 'opacity-60' : ''}`}
            >
              <div className={`bg-gradient-to-br ${conv.color} p-4 text-white`}>
                <div className="flex justify-between items-start mb-2">
                  <span className="text-3xl">{conv.emoji}</span>
                  <button
                    onClick={(e) => {
                      e.stopPropagation();
                      toggleComplete(conv.id);
                    }}
                    className={`${completedConversations.includes(conv.id) ? 'bg-white text-green-600' : 'bg-white/20'} p-1.5 rounded-full hover:scale-110 transition-all`}
                  >
                    {completedConversations.includes(conv.id) ? 'тЬУ' : 'тЧЛ'}
                  </button>
                </div>
                <h3 className="text-xl font-bold mb-1">{conv.title}</h3>
                <p className="text-sm opacity-90">{conv.scenario}</p>
              </div>
              <div className="p-4">
                <div className="flex justify-between items-center mb-3">
                  <span className={`text-xs font-semibold ${getDifficultyColor(conv.difficulty)} uppercase`}>
                    {conv.difficulty}
                  </span>
                  <span className={`text-xs ${darkMode ? 'text-[#94a3b8]' : 'text-gray-600'}`}>
                    {conv.dialogue.length} lines
                  </span>
                </div>
                <div className={`text-xs ${darkMode ? 'text-[#94a3b8]' : 'text-gray-600'} mb-3`}>
                  <strong>Key Phrases:</strong> {conv.keyPhrases.join(', ')}
                </div>
                <span className={`text-xs ${darkMode ? 'text-[#60a5fa]' : 'text-purple-600'} font-semibold`}>
                  Click to practice тЖТ
                </span>
              </div>
            </div>
          ))}
        </div>
      </section>

      {/* Conversation Detail Modal */}
      {selectedConversation && (
        <div 
          className="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4"
          onClick={() => setSelectedConversation(null)}
        >
          <div 
            className={`${darkMode ? 'bg-[#1e293b]' : 'bg-white'} rounded-3xl max-w-3xl w-full max-h-[90vh] overflow-y-auto`}
            onClick={(e) => e.stopPropagation()}
          >
            <div className={`bg-gradient-to-br ${selectedConversation.color} p-8 text-white text-center sticky top-0`}>
              <div className="text-6xl mb-4">{selectedConversation.emoji}</div>
              <h2 className="text-3xl font-bold mb-2">{selectedConversation.title}</h2>
              <p className="text-sm opacity-90">{selectedConversation.scenario}</p>
            </div>
            <div className="p-8">
              <div className="space-y-4 mb-6">
                {selectedConversation.dialogue.map((line, idx) => (
                  <div key={idx} className={`${darkMode ? 'bg-[#0f1729]' : 'bg-gray-50'} p-4 rounded-xl`}>
                    <div className="flex items-start gap-3">
                      <div className={`${darkMode ? 'bg-[#60a5fa]' : 'bg-purple-500'} text-white px-3 py-1 rounded-full text-sm font-semibold flex-shrink-0`}>
                        {line.speaker}
                      </div>
                      <div className="flex-1">
                        <p className={`${darkMode ? 'text-[#e0e7ff]' : 'text-gray-900'} font-medium mb-1`}>
                          {line.text}
                        </p>
                        <p className={`text-sm ${darkMode ? 'text-[#94a3b8]' : 'text-gray-600'}`}>
                          {line.hindi}
                        </p>
                      </div>
                    </div>
                  </div>
                ))}
              </div>
              <div className={`${darkMode ? 'bg-[#0f1729]' : 'bg-purple-50'} p-4 rounded-xl mb-6`}>
                <h4 className={`font-semibold ${darkMode ? 'text-[#e0e7ff]' : 'text-gray-900'} mb-2`}>
                  Key Phrases to Remember:
                </h4>
                <div className="flex flex-wrap gap-2">
                  {selectedConversation.keyPhrases.map((phrase, idx) => (
                    <span key={idx} className={`${darkMode ? 'bg-[#1e293b] text-[#60a5fa]' : 'bg-white text-purple-600'} px-3 py-1 rounded-full text-sm font-medium`}>
                      {phrase}
                    </span>
                  ))}
                </div>
              </div>
              <button
                onClick={() => {
                  toggleComplete(selectedConversation.id);
                  setSelectedConversation(null);
                }}
                className={`w-full ${
                  completedConversations.includes(selectedConversation.id)
                    ? 'bg-green-600 hover:bg-green-700'
                    : `bg-gradient-to-r ${selectedConversation.color}`
                } text-white font-bold py-4 rounded-full transition-all hover:scale-105`}
              >
                {completedConversations.includes(selectedConversation.id) ? 'тЬУ Marked as Practiced' : 'Mark as Practiced'}
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
